generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model category {
  id    String  @id @db.VarChar(100)
  name  String  @db.VarChar(100)
  inbox inbox[]
}

model inbox {
  id          Int          @id @default(autoincrement())
  title       String       @db.VarChar(255)
  detail      String       @db.Text
  create_at   DateTime     @db.Timestamp(0)
  user_id     Int?
  category_id String?      @db.VarChar(100)
  category    category?    @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_inbox_category")
  users       users?       @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_inbox_user")
  inbox_read  inbox_read[]

  @@index([category_id], map: "fk_inbox_category")
  @@index([user_id], map: "fk_inbox_user")
}

model inbox_read {
  id       Int     @id @default(autoincrement())
  is_read  Boolean
  inbox_id Int
  users_id Int
  inbox    inbox   @relation(fields: [inbox_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_inbox_read_inbox")
  users    users   @relation(fields: [users_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fx_inbor_read_users")

  @@index([inbox_id], map: "fk_inbox_read_inbox")
  @@index([users_id], map: "fx_inbor_read_users")
}

model users {
  id         Int          @id @default(autoincrement())
  username   String       @db.VarChar(100)
  email      String       @unique(map: "email") @db.VarChar(100)
  pass       String       @db.VarChar(255)
  create_at  DateTime?    @default(now()) @db.Timestamp(0)
  inbox      inbox[]
  inbox_read inbox_read[]
}
